{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "Markdown Svelte",
    "scopeName": "text.html.markdown.svelte",
    "patterns": [
        {
            "include": "#svelte"
        },
        {
            "include": "#markdown"
        }
    ],
    "repository": {
        "svelte": {
            "patterns": [
                {
                    "include": "#svelte-script-section"
                },
                {
                    "include": "#svelte-style-section"
                },
                {
                    "include": "#svelte-tag"
                },
                {
                    "include": "#svelte-template"
                },
                {
                    "include": "#svelte-js-expression"
                }
            ],
            "repository": {
                "svelte-script-section": {
                    "patterns": [
                        {
                            "begin": "<script[^>]*>",
                            "end": "<\/script>",
                            "name": "script.source.svelte"
                        }
                    ]
                },
                "svelte-style-section": {
                    "patterns": [
                        {
                            "begin": "<style[^>]*>",
                            "end": "<\/style>",
                            "name": "style.source.svelte"
                        }
                    ]
                },
                "svelte-tag": {
                    "patterns": [
                        {
                            "begin": "(?!^#{1,}\\s+?)(?:[^{}]*?)(?=<)",
                            "end": "(?<=>|$)",
                            "contentName": "tag.source.svelte"
                        }
                    ]
                },
                "svelte-template": {
                    "patterns": [
                        {
                            "begin": "(?!^#{1,}\\s+?)(?:.*?)(?={[#/])",
                            "end": "(?<=}|$)",
                            "contentName": "template.source.svelte"
                        }
                    ]
                },
                "svelte-js-expression": {
                    "patterns": [
                        {
                            "begin": "(?!^#{1,}\\s+?)(?:.*?)(?={[^#/])",
                            "end": "(?<=}|$)",
                            "contentName": "expression.source.svelte"
                        }
                    ]
                }
            }
        }
    }
}
